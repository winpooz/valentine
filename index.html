<!DOCTYPE html>
<html>
<head>
<title>Dominick Valentine Quest</title>

<link href="https://fonts.cdnfonts.com/css/minecraft-4" rel="stylesheet">

<style>
body {
  margin:0;
  overflow:hidden;
  background:black;
  font-family: 'Minecraft', monospace;
}

canvas {
  image-rendering: pixelated;
}

#dialogue {
  position: fixed;
  top: 5%;
  width: 100%;
  text-align: center;
  font-size: 32px;
  color: white;
  text-shadow: 3px 3px black;
}

button {
  font-size: 20px;
  padding: 12px 24px;
  position: fixed;
  font-family: 'Minecraft';
}

#yesBtn { bottom: 15%; left: 40%; }
#noBtn { bottom: 15%; left: 55%; }
</style>
</head>

<body>

<div id="dialogue">Walk to the girl... Use WASD ðŸ’–</div>
<button id="yesBtn" hidden>YES ðŸ’˜</button>
<button id="noBtn" hidden>NO ðŸ™„</button>

<canvas id="game"></canvas>

<!-- MUSIC -->
<audio id="bgMusic" loop>
  <source src="minecraft-music.mp3" type="audio/mpeg">
</audio>

<audio id="xpSound">
  <source src="xp.mp3" type="audio/mpeg">
</audio>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.onresize = resize;

// Player
let player = {x:100, y:400, size:40, speed:5};

// Girl NPC
let girl = {x:600, y:400, size:40};

// Story state
let metGirl = false;

// Background
function drawBackground() {
  // sunset sky
  let g = ctx.createLinearGradient(0,0,0,canvas.height);
  g.addColorStop(0,"#ff9a9e");
  g.addColorStop(1,"#fad0c4");
  ctx.fillStyle = g;
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // ground
  ctx.fillStyle="#3cb371";
  ctx.fillRect(0,canvas.height-120,canvas.width,120);

  // sakura trees
  for(let i=0;i<12;i++){
    let x=i*180;
    ctx.fillStyle="#8b5a2b";
    ctx.fillRect(x,canvas.height-220,20,100);
    ctx.fillStyle="pink";
    ctx.fillRect(x-30,canvas.height-260,80,80);
  }
}

// Player sprite (pixel boy)
function drawPlayer() {
  ctx.fillStyle="#0000ff";
  ctx.fillRect(player.x,player.y,player.size,player.size);
}

// Girl sprite (Black afro + pink dress)
function drawGirl() {
  // afro hair
  ctx.fillStyle="#3b2f2f";
  ctx.fillRect(girl.x,girl.y,girl.size,girl.size);

  // dress
  ctx.fillStyle="hotpink";
  ctx.fillRect(girl.x,girl.y+40,girl.size,girl.size);
}

// Game loop
function loop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawBackground();
  drawGirl();
  drawPlayer();
  checkMeet();
  requestAnimationFrame(loop);
}
loop();

// Movement
document.addEventListener("keydown", e=>{
  if(e.key=="a") player.x-=player.speed;
  if(e.key=="d") player.x+=player.speed;
  if(e.key=="w") player.y-=player.speed;
  if(e.key=="s") player.y+=player.speed;
});

// Music on click
document.addEventListener("click", ()=>{
  document.getElementById("bgMusic").play();
});

// Meet girl
function checkMeet(){
  let dist=Math.abs(player.x-girl.x);
  if(dist<60 && !metGirl){
    metGirl=true;
    document.getElementById("dialogue").innerHTML="Hi Dominick... will you be my Valentine? ðŸ’•";
    document.getElementById("yesBtn").hidden=false;
    document.getElementById("noBtn").hidden=false;
  }
}

// NO runs away
const noBtn=document.getElementById("noBtn");
noBtn.onmouseover=()=>{
  noBtn.style.left=Math.random()*80+"%";
  noBtn.style.top=Math.random()*80+"%";
};

// YES celebration
document.getElementById("yesBtn").onclick=()=>{
  document.getElementById("xpSound").play();
  document.getElementById("dialogue").innerHTML="DOMINICK SAID YES ðŸ˜­ðŸ’– I LOVE YOU";

  // hearts
  for(let i=0;i<150;i++){
    let h=document.createElement("div");
    h.innerHTML="ðŸ’–";
    h.style.position="fixed";
    h.style.left=Math.random()*100+"%";
    h.style.top=Math.random()*100+"%";
    h.style.fontSize="28px";
    document.body.appendChild(h);
  }

  // fireworks confetti
  for(let i=0;i<300;i++){
    let c=document.createElement("div");
    c.style.position="fixed";
    c.style.width="6px";
    c.style.height="6px";
    c.style.background=["red","pink","yellow","white"][Math.floor(Math.random()*4)];
    c.style.left=Math.random()*100+"%";
    c.style.top=Math.random()*100+"%";
    document.body.appendChild(c);
  }
};
</script>

</body>
</html>
